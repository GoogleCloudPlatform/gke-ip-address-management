{"version":3,"sources":["components/TextDropdown.js","components/NetmaskDropdown.js","components/NetmaskInput.js","components/TextDropdownInput.js","rules/input/BaseNetmaskRules.js","rules/input/cluster/ClusterRules.js","rules/input/node/NodeRules.js","rules/input/service/ServiceRules.js","rules/input/AvailableNetmaskRules.js","rules/input/PodNetmaskRules.js","rules/input/InputRules.js","ui/input/Parameters.js","IPUtils.js","Packer.js","Logic.js","ui/output/LogicOutputDropdown.js","ui/output/LogicOutputNetworkRow.js","rules/output/NodeOutputRules.js","rules/output/ServiceOutpuRules.js","rules/output/PodOutputRules.js","ui/output/LogicOutput.js","ui/output/Results.js","components/StateButtons.js","Calculator.js","App.js","serviceWorker.js","index.js"],"names":["TextDropdown","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","createOptions","options","forEach","s","push","react_default","a","createElement","value","key","text","handleChange","bind","assertThisInitialized","e","changeHandler","target","reactstrap_es","type","name","id","onChange","Component","NetmaskDropdown","min","rules","minimum","max","maximum","i","Number","NetmaskInput","propName","row","for","sm","label","components_NetmaskDropdown","TextDropdownInput","components_TextDropdown","reducerMax","accumulator","currentValue","reducerMin","BaseNetmaskRules","minRules","maxRules","reduce","HardcodedMin","NetmaskMax","state","netmask","ClusterRules","NodeRules","ServiceRules","HardcodedMax","AvailableNetmaskRules","PodNetmastRules","InputRules","input","clusterRules","nodeRules","serviceRules","availableNetmaskRules","podRules","locationTypeOptions","extraZoneOptions","masterBlockOptions","nodePodNetmaskOptions","Parameters","handleChangeNetwork","handleLocationTypeChange","handleExtraZonesChange","handlePropChange","newValue","handleUpdateInput","assign","locationType","extraZones","network","defineProperty","extraZonesLabel","extraZonesInput","placeholder","components_NetmaskInput","inputRules","getAvailableNetmaskRules","getNodeRules","nodeNetmask","getClusterRules","clusterNetmask","components_TextDropdownInput","nodePodNetmask","getServiceRules","serviceNetmask","masterNetwork","IPUtils","address","octets","match","total","prototype","hasOwnProperty","mul","Math","pow","networkIp","netmaskDec","fixSigned","currentIp","endIp","remaining","currentBits","NaN","v2","signed","ret","Packer","space","subnets","sortedSubnets","sortSubnets","netStart","dotToDec","net","mask","netEnd","packedNets","length","subnet","fit","end","description","vpcName","subnetRangeName","freeRanges","spaceStart","spaceEnd","currentNet","currentNetEnd","sort","b","Logic","packer","validCombinations","ok","count","networks","targetNumberLength","toString","j","pad","packerResults","pack","combinations","targetLength","numberToPad","padStart","LogicOutputDropdown","logic","getCombinations","element","index","LogicOutputNetworkRow","decToDot","subnetTypeText","NodeNetworkRules","netmaskToUsableIps","ClusterNetworkRules","RegionalLocationRules","currentMax","parseInt","NodeOutputRules","nodeNetworkRules","clusterNetworkRules","v1","details","concat","ServiceOutputRules","PodOutputRules","LogicOutput","createDetail","nodeOutputRules","detail","createRows","output","combinationIndex","rows","output_LogicOutputNetworkRow","handleUpdateOutput","handleChangeCombination","setState","serviceOutputRules","podOutputRules","output_LogicOutputDropdown","Results","output_LogicOutput","printReslts","StateButtons","downloadModal","uploadModal","configText","toggleDownload","toggleUpload","uploadConfig","handleConfigText","prevState","handleUploadConfig","className","color","onClick","isOpen","toggle","React","Calculator","newInput","JSON","parse","validateInput","isInteger","components_StateButtons","stringify","input_Parameters","output_Results","App","src_Calculator","Boolean","window","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2244194c.chunk.js","sourcesContent":["// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport {Input} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\n/**\n * Component to display an Input element for a text dropdown\n */\nclass TextDropdown extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n\n  /**\n   * Handle selecting a different item.\n   *\n   * @param {Object} e the selection event.\n   */\n  handleChange(e) {\n    this.props.changeHandler(e.target.value);\n  }\n\n  /**\n   *\n   * Create the options.\n   *\n   * @return {Object} the options for the dropdown.\n   */\n  createOptions = () => {\n    const options = [];\n    this.props.options.forEach((s) => {\n      options.push(<option value={s.value} key={s.value}>{s.text}</option>);\n    });\n    return options;\n  };\n\n  /**\n   * Render the Input element.\n   *\n   * @return {Object} the Input element for a text dropdown.\n   */\n  render() {\n    if (this.props.value === '' || this.props.value === null) {\n      return (\n        <Input\n          type=\"select\"\n          name={this.props.name}\n          id={this.props.id}\n          onChange={this.handleChange}\n        >\n          {this.createOptions()}\n        </Input>\n      );\n    } else {\n      return (\n        <Input\n          type=\"select\"\n          name={this.props.name}\n          id={this.props.id}\n          onChange={this.handleChange}\n          value={this.props.value}\n        >\n          {this.createOptions()}\n        </Input>\n      );\n    }\n  }\n}\n\n\nTextDropdown.propTypes = {\n  id: PropTypes.string,\n  options: PropTypes.array,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  changeHandler: PropTypes.func,\n};\n\nexport default TextDropdown;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport {Input} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\n/**\n * Component to display an Input element for a dropdown to select netmask values.\n */\nclass NetmaskDropdown extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  /**\n   * Handle selecting a different value.\n   *\n   * @param {Object} e the selection event.\n   */\n  handleChange(e) {\n    this.props.changeHandler(Number(e.target.value));\n  }\n\n  /**\n   *\n   * Create the options.\n   *\n   * @return {Object} the options for the dropdown.\n   */\n  createOptions = () => {\n    const min = this.props.rules.minimum().minimum();\n    const max = this.props.rules.maximum().maximum();\n    const options = [];\n\n    for (let i = min; i >= max; i--) {\n      options.push(<option value={i} key={i}>/{i}</option>);\n    }\n    return options;\n  };\n\n  /**\n   * Render the Input element.\n   *\n   * @return {Object} the Input element for the netmask dropdown.\n   */\n  render() {\n    if (this.props.value === '' || this.props.value === null) {\n      return (\n        <Input\n          type=\"select\"\n          name=\"select\"\n          id=\"exampleSelect\"\n          onChange={this.handleChange}\n        >\n          {this.createOptions()}\n        </Input>\n      );\n    } else {\n      return (\n        <Input\n          type=\"select\"\n          name=\"select\"\n          id=\"exampleSelect\"\n          onChange={this.handleChange}\n          value={this.props.value}\n        >\n          {this.createOptions()}\n        </Input>\n      );\n    }\n  }\n}\n\nNetmaskDropdown.propTypes = {\n  rules: PropTypes.object,\n  value: PropTypes.number,\n  changeHandler: PropTypes.func,\n};\n\nexport default NetmaskDropdown;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport {FormGroup, Label, Col} from 'reactstrap';\nimport NetmaskDropdown from './NetmaskDropdown';\nimport PropTypes from 'prop-types';\n\n\n/**\n * Component to display an FormGroup element that contains a dropdown to select netmask values.\n */\nclass NetmaskInput extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  /**\n   * Handle selecting a different value.\n   *\n   * @param {Object} value the selected value.\n   */\n  handleChange(value) {\n    this.props.changeHandler(this.props.propName, value);\n  }\n\n  /**\n   * Render the FormGroup element.\n   *\n   * @return {Object} the FormGroup element that contains the netmask dropdown.\n   */\n  render() {\n    return (\n      <FormGroup row>\n        <Label for=\"{this.props.name}\" sm={3}>\n          {this.props.label}\n        </Label>\n        <Col sm={2}>\n          <NetmaskDropdown\n            name={this.props.name}\n            rules={this.props.rules}\n            changeHandler={this.handleChange}\n            value={this.props.value}\n          />\n        </Col>\n      </FormGroup>\n    );\n  }\n}\n\nNetmaskInput.propTypes = {\n  rules: PropTypes.object,\n  value: PropTypes.number,\n  label: PropTypes.string,\n  name: PropTypes.string,\n  propName: PropTypes.string,\n  changeHandler: PropTypes.func,\n};\n\nexport default NetmaskInput;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport {FormGroup, Label, Col} from 'reactstrap';\nimport TextDropdown from './TextDropdown';\nimport PropTypes from 'prop-types';\n\n/**\n * Component to display a Form element for a text dropdown\n */\nclass TextDropdownInput extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  /**\n   * Handle selecting a different value.\n   *\n   * @param {Object} value the selection value.\n   */\n  handleChange(value) {\n    this.props.changeHandler(this.props.propName, value);\n  }\n\n  /**\n   * Render the From element.\n   *\n   * @return {Object} the From element for a text dropdown.\n   */\n  render() {\n    return (\n      <FormGroup row>\n        <Label for=\"{this.props.name}\" sm={3}>\n          {this.props.label}\n        </Label>\n        <Col sm={2}>\n          <TextDropdown\n            name={this.props.name}\n            id={this.props.name}\n            options={this.props.options}\n            value={this.props.value}\n            changeHandler={this.handleChange}\n          />\n        </Col>\n      </FormGroup>\n    );\n  }\n}\n\nTextDropdownInput.propTypes = {\n  propName: PropTypes.string,\n  label: PropTypes.string,\n  options: PropTypes.array,\n  name: PropTypes.string,\n  value: PropTypes.string,\n  changeHandler: PropTypes.func,\n};\n\n\nexport default TextDropdownInput;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nconst reducerMax = (accumulator, currentValue) =>\n  accumulator == null || currentValue.maximum() > accumulator.maximum()\n    ? currentValue\n    : accumulator;\n\nconst reducerMin = (accumulator, currentValue) =>\n  accumulator == null || currentValue.maximum() < accumulator.maximum()\n    ? currentValue\n    : accumulator;\n\n/**\n * Base class for the rules that define the maximum and minimum netmasks to show\n */\nclass BaseNetmaskRules {\n  /**\n   *\n   * Constructor.\n   *\n   * @param {Object} minRules\n   * @param {Object} maxRules\n   */\n  constructor(minRules, maxRules) {\n    this.minRules = minRules;\n    this.maxRules = maxRules;\n  }\n\n  /**\n   * Calculate the minimum netmask possible.\n   *\n   * @return {number} minimum netmask possible.\n   */\n  minimum() {\n    return this.minRules.reduce(reducerMin);\n  }\n\n  /**\n   * Calculate the max netmask possible.\n   *\n   * @return {number} max netmask possible.\n   */\n  maximum() {\n    return this.maxRules.reduce(reducerMax);\n  }\n}\n\nexport default BaseNetmaskRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport BaseNetmaskRules from '../BaseNetmaskRules';\n\n/**\n * Hardcoded minimum limit for cluster ranges\n */\nclass HardcodedMin {\n  /**\n   * Return the minimum for the range\n   *\n   * @return {number} range minimum\n   */\n  minimum() {\n    return 24;\n  }\n\n\n  /**\n   * Returns the reference documentation URL.\n   *\n   * @return {string} reference URL.\n   */\n  ref() {\n    return 'https://cloud.google.com/kubernetes-engine/docs/how-to/alias-ips#defaults_limits';\n  }\n}\n\n\n/**\n * Maximum limit for cluster ranges, based on available netmask\n */\nclass NetmaskMax {\n  /**\n   * Constructor.\n   *\n   * @param {Object} state Current state.\n   */\n  constructor(state) {\n    this.state = state;\n  }\n\n  /**\n   * Return the max for the range\n   *\n   * @return {number} range max\n   */\n  maximum() {\n    return this.state.netmask;\n  }\n}\n\n/**\n * Rules for available range of cluster netmask options.\n */\nclass ClusterRules extends BaseNetmaskRules {\n  /**\n   * Constructor.\n   *\n   * @param {Object} state Current state.\n   */\n  constructor(state) {\n    super([new HardcodedMin()], [new NetmaskMax(state)]);\n  }\n}\n\nexport default ClusterRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport BaseNetmaskRules from '../BaseNetmaskRules';\n\n/**\n * Hardcoded minimum limit for node ranges\n */\nclass HardcodedMin {\n  /**\n   * Return the minimum for the range\n   *\n   * @return {number} range minimum\n   */\n  minimum() {\n    return 29;\n  }\n\n  /**\n   * Returns the reference documentation URL.\n   *\n   * @return {string} reference URL.\n   */\n  ref() {\n    return 'https://cloud.google.com/vpc/docs/vpc#manually_created_subnet_ip_ranges';\n  }\n}\n\n/**\n * Maximum limit for node ranges, based on available netmask\n */\nclass NetmaskMax {\n  /**\n   * Constructor.\n   *\n   * @param {Object} state Current state.\n   */\n  constructor(state) {\n    this.state = state;\n  }\n\n  /**\n   * Return the max for the range\n   *\n   * @return {number} range max\n   */\n  maximum() {\n    return this.state.netmask;\n  }\n}\n\n/**\n * Rules for available range of node netmask options.\n */\nclass NodeRules extends BaseNetmaskRules {\n  /**\n   * Constructor.\n   *\n   * @param {Object} state Current state.\n   */\n  constructor(state) {\n    super([new HardcodedMin()], [new NetmaskMax(state)]);\n  }\n}\n\nexport default NodeRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport BaseNetmaskRules from '../BaseNetmaskRules';\n\n/**\n * Hardcoded minimum limit for service ranges\n */\nclass HardcodedMin {\n  /**\n   * Return the minimum for the range\n   *\n   * @return {number} range minimum\n   */\n  minimum() {\n    return 27;\n  }\n\n\n  /**\n   * Returns the reference documentation URL.\n   *\n   * @return {string} reference URL.\n   */\n  ref() {\n    return 'https://cloud.google.com/kubernetes-engine/docs/how-to/alias-ips#defaults_limits';\n  }\n}\n\n\n/**\n * Maximum limit for service ranges, based on available netmask\n */\nclass NetmaskMax {\n  /**\n   * Constructor.\n   *\n   * @param {Object} state Current state.\n   */\n  constructor(state) {\n    this.state = state;\n  }\n\n  /**\n   * Return the max for the range\n   *\n   * @return {number} range max\n   */\n  maximum() {\n    return this.state.netmask;\n  }\n}\n\n\n/**\n * Rules for available range of service netmask options.\n */\nclass ServiceRules extends BaseNetmaskRules {\n  /**\n   * Constructor.\n   *\n   * @param {Object} state Current state.\n   */\n  constructor(state) {\n    super([new HardcodedMin()], [new NetmaskMax(state)]);\n  }\n}\n\nexport default ServiceRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport BaseNetmaskRules from './BaseNetmaskRules';\n\n/**\n * Rule that define the minimum available netmask\n */\nclass HardcodedMin {\n  /**\n   * Calculate the minimum netmask possible.\n   *\n   * @return {number} minimum netmask possible.\n   */\n  minimum() {\n    return 29;\n  }\n}\n\n/**\n * Rule that define the maximum available netmask\n */\nclass HardcodedMax {\n  /**\n   * Calculate the maximum netmask possible.\n   *\n   * @return {number} maximum netmask possible.\n   */\n  maximum() {\n    return 8;\n  }\n}\n\n/**\n * Rules that define the available netmasks to show\n */\nclass AvailableNetmaskRules extends BaseNetmaskRules {\n  /**\n   *\n   * Constructor.\n   */\n  constructor() {\n    super([new HardcodedMin()], [new HardcodedMax()]);\n  }\n}\n\nexport default AvailableNetmaskRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport BaseNetmaskRules from './BaseNetmaskRules';\n\n/**\n * Hardcoded minimum limit for pod ranges\n */\nclass HardcodedMin {\n  /**\n   * Return the minimum for the range\n   *\n   * @return {number} range minimum\n   */\n  minimum() {\n    return 28;\n  }\n}\n\n/**\n * Hardcoded max limit for pod ranges\n */\nclass HardcodedMax {\n  /**\n   * Return the max for the range\n   *\n   * @return {number} range max\n   */\n  maximum() {\n    return 24;\n  }\n}\n\n\n/**\n * Rules for available range of pod netmask options.\n */\nclass PodNetmastRules extends BaseNetmaskRules {\n  /**\n   * Constructor.\n   */\n  constructor() {\n    super([new HardcodedMin()], [new HardcodedMax()]);\n  }\n}\n\nexport default PodNetmastRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport ClusterRules from './cluster/ClusterRules';\nimport NodeRules from './node/NodeRules';\nimport ServiceRules from './service/ServiceRules';\nimport AvailableNetmaskRules from './AvailableNetmaskRules';\nimport PodNetmastRules from './PodNetmaskRules';\n\n/**\n * Set of rules used to display the input UI\n */\nclass InputRules {\n  /**\n   * Constructor.\n   *\n   * @param {Object} input Current input.\n   */\n  constructor(input) {\n    this.clusterRules = new ClusterRules(input);\n    this.nodeRules = new NodeRules(input);\n    this.serviceRules = new ServiceRules(input);\n    this.availableNetmaskRules = new AvailableNetmaskRules();\n    this.podRules = new PodNetmastRules();\n  }\n\n  /**\n   * Returns the rules currently in effect for the cluster netmask.\n   *\n   * @return {ClusterRules} rules currently in effect\n   */\n  getClusterRules() {\n    return this.clusterRules;\n  }\n\n  /**\n   * Returns the rules currently in effect for the node netmask.\n   *\n   * @return {NodeRules} rules currently in effect\n   */\n  getNodeRules() {\n    return this.nodeRules;\n  }\n\n\n  /**\n   * Returns the rules currently in effect for the service netmask.\n   *\n   * @return {ServiceRules} rules currently in effect\n   */\n  getServiceRules() {\n    return this.serviceRules;\n  }\n\n  /**\n   * Returns the rules currently in effect for the available netmask.\n   *\n   * @return {AvailableNetmaskRules} rules currently in effect\n   */\n  getAvailableNetmaskRules() {\n    return this.availableNetmaskRules;\n  }\n\n  /**\n   * Returns the rules currently in effect for the pod netmask.\n   *\n   * @return {PodNetmaskRules} rules currently in effect\n   */\n  getPodRules() {\n    return this.podRules;\n  }\n}\n\nexport default InputRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport {Form, FormGroup, Input, Label, Col} from 'reactstrap';\nimport TextDropdown from '../../components/TextDropdown';\nimport NetmaskInput from '../../components/NetmaskInput';\nimport TextDropdownInput from '../../components/TextDropdownInput';\nimport InputRules from '../../rules/input/InputRules';\nimport PropTypes from 'prop-types';\n\nconst locationTypeOptions = [\n  {value: 'ZONAL', text: 'Zonal'},\n  {value: 'MULTI_ZONAL', text: 'Multi - zonal'},\n  {value: 'REGIONAL', text: 'Regional'},\n];\n\nconst extraZoneOptions = [\n  {value: '1', text: '1'},\n  {value: '2', text: '2'},\n  {value: '3', text: '3'},\n];\n\nconst masterBlockOptions = [\n  {value: 'PUBLIC', text: 'Public Master'},\n  {value: 'SHARE', text: 'Share one Master CIDR across all clusters'},\n  {value: 'UNIQUE', text: 'Create a Unique Master CIDR for each cluster'},\n  {value: 'DEFAULT', text: 'Use default values for the Master CIDR block'},\n];\n\nconst nodePodNetmaskOptions = [\n  {value: '28', text: '8 pods (/28)', max: 8},\n  {value: '27', text: '9 to 16 pods (/27)', max: 16},\n  {value: '26', text: '17 to 32 pods (/26)', max: 32},\n  {value: '25', text: '33 to 64 pods (/25)', max: 64},\n  {value: '24', text: '65 to 110 pods (/24)', max: 110},\n];\n\n/**\n * User inputted parameters\n */\nclass Parameters extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n\n    this.handleChangeNetwork = this.handleChangeNetwork.bind(this);\n\n    this.handleLocationTypeChange = this.handleLocationTypeChange.bind(this);\n    this.handleExtraZonesChange = this.handleExtraZonesChange.bind(this);\n    this.handlePropChange = this.handlePropChange.bind(this);\n  }\n\n\n  /**\n   * Handle selecting a different location type.\n   *\n   * @param {Object} newValue the new value.\n   */\n  handleLocationTypeChange(newValue) {\n    this.props.handleUpdateInput(\n        Object.assign({}, this.props.input, {\n          locationType: newValue,\n        })\n    );\n  }\n\n\n  /**\n   * Handle selecting a different number of extra zones (used for zonal clusters only).\n   *\n   * @param {Object} newValue the new value.\n   */\n  handleExtraZonesChange(newValue) {\n    this.props.handleUpdateInput(\n        Object.assign({}, this.props.input, {\n          extraZones: newValue,\n        })\n    );\n  }\n\n\n  /**\n   * Handle changing the network.\n   *\n   * @param {Object} e the change event.\n   */\n  handleChangeNetwork(e) {\n    this.props.handleUpdateInput(\n        Object.assign({}, this.props.input, {\n          network: e.target.value,\n        })\n    );\n  }\n\n  /**\n   * Handle changing an arbitrary property.\n   *\n   * @param {string} propName the name of the property to update.\n   * @param {Object} newValue the new value.\n   */\n  handlePropChange(propName, newValue) {\n    this.props.handleUpdateInput(\n        Object.assign({}, this.props.input, {\n          [propName]: newValue,\n        })\n    );\n  }\n\n  /**\n   * Render the widgets for the parameters.\n   *\n   * @return {Object} the Form element that contains the parameters.\n   */\n  render() {\n    let extraZonesLabel;\n    let extraZonesInput;\n\n    if (this.props.input.locationType === 'MULTI_ZONAL') {\n      extraZonesLabel = (\n        <Label for=\"extra-zones-select\" sm={2}>\n          Extra Zones\n        </Label>\n      );\n      extraZonesInput = (\n        <Col sm={1}>\n          <TextDropdown\n            name=\"extra-zones-select\"\n            id=\"extra-zones-select\"\n            options={extraZoneOptions}\n            value={this.props.input.extraZones}\n            changeHandler={this.handleExtraZonesChange}\n          />\n        </Col>\n      );\n    } else {\n      extraZonesLabel = ' ';\n      extraZonesInput = ' ';\n    }\n\n    return (\n      <Form>\n        <FormGroup row>\n          <Label for=\"location-type-select\" sm={3}>\n            Location Type\n          </Label>\n          <Col sm={2}>\n            <TextDropdown\n              name=\"location-type-select\"\n              id=\"location-type-select\"\n              options={locationTypeOptions}\n              value={this.props.input.locationType}\n              changeHandler={this.handleLocationTypeChange}\n            />\n          </Col>\n          {extraZonesLabel}\n          {extraZonesInput}\n        </FormGroup>\n\n        <FormGroup row>\n          <Label for=\"network\" sm={3}>\n            {' '}\n            Available Network{' '}\n          </Label>{' '}\n          <Col sm={2}>\n            <Input\n              name=\"network\"\n              id=\"network\"\n              type=\"text\"\n              placeholder=\"10.0.0.0\"\n              value={this.props.input.network}\n              onChange={this.handleChangeNetwork}\n            />{' '}\n          </Col>{' '}\n        </FormGroup>\n\n        <NetmaskInput\n          name=\"available-netmask\"\n          label=\"Available Netmask\"\n          rules={this.props.inputRules.getAvailableNetmaskRules()}\n          changeHandler={this.handlePropChange}\n          value={this.props.input.netmask}\n          propName=\"netmask\"\n        />\n\n        <NetmaskInput\n          name=\"node-netmask\"\n          label=\"Node Subnet mask\"\n          rules={this.props.inputRules.getNodeRules()}\n          changeHandler={this.handlePropChange}\n          value={this.props.input.nodeNetmask}\n          propName=\"nodeNetmask\"\n        />\n\n        <NetmaskInput\n          name=\"cluster-netmask\"\n          label=\"Cluster Subnet mask\"\n          rules={this.props.inputRules.getClusterRules()}\n          changeHandler={this.handlePropChange}\n          value={this.props.input.clusterNetmask}\n          propName=\"clusterNetmask\"\n        />\n\n        <TextDropdownInput\n          name=\"node-pod-netmask-select\"\n          label=\"Maximum Pods (Pod Netmask)\"\n          options={nodePodNetmaskOptions}\n          changeHandler={this.handlePropChange}\n          value={this.props.input.nodePodNetmask}\n          propName=\"nodePodNetmask\"\n        />\n\n        <NetmaskInput\n          name=\"service-netmask\"\n          label=\"Service Subnet mask\"\n          rules={this.props.inputRules.getServiceRules()}\n          changeHandler={this.handlePropChange}\n          value={this.props.input.serviceNetmask}\n          propName=\"serviceNetmask\"\n        />\n\n        <TextDropdownInput\n          name=\"master-block-select\"\n          label=\"Master CIDR block\"\n          options={masterBlockOptions}\n          changeHandler={this.handlePropChange}\n          value={this.props.input.masterNetwork}\n          propName=\"masterNetwork\"\n        />\n      </Form>\n    );\n  }\n}\n\nParameters.propTypes = {\n  input: PropTypes.object,\n  inputRules: PropTypes.instanceOf(InputRules),\n  handleUpdateInput: PropTypes.func,\n};\n\nexport default Parameters;\n\nexport {nodePodNetmaskOptions};\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * Utilities to manipulate IPs.\n */\nclass IPUtils {\n  /**\n   * Converts an IP address from decimal to dot notation.\n   *\n   * @param {number} address address in decimal notation.\n   * @return {string} address in dot notation.\n   */\n  static decToDot(address) {\n    const part1 = address & 255;\n    const part2 = (address >> 8) & 255;\n    const part3 = (address >> 16) & 255;\n    const part4 = (address >> 24) & 255;\n    return part4 + '.' + part3 + '.' + part2 + '.' + part1;\n  }\n\n  /**\n   * Converts an IP address from dot to decimal notation.\n   *\n   * @param {string} address address in dot notation.\n   * @return {number} address in decimal notation.\n   */\n  static dotToDec(address) {\n    const octets = address.match(/(\\d+)/g);\n    let total = 0;\n    for (const i in octets) {\n      if (Object.prototype.hasOwnProperty.call(octets, i)) {\n        const mul = 2 ** ((3 - i) * 8);\n        total += octets[i] * mul;\n      }\n    }\n    return total;\n  }\n\n  /**\n   * Calculate the last IP of a network with a particular netmask.\n   * @param {number} networkIp network IP.\n   * @param {number} netmask netwask for the network.\n   * @return {number} last IP of the network.\n   */\n  static netEnd(networkIp, netmask) {\n    // Logical OR between the address and the NOT netmask (bits flipped).\n    const netmaskDec = 2 ** (32 - netmask) - 1;\n    return this.fixSigned(networkIp | netmaskDec);\n  }\n\n  /**\n   * Calculate the first IP of a network with a particular netmask.\n   * @param {number} networkIp network IP.\n   * @param {number} netmask netwask for the network.\n   * @return {number} first IP of the network.\n   */\n  static netStart(networkIp, netmask) {\n    // Logical AND between the address and the netmask.\n    const netmaskDec = 4294967295 - (2 ** (32 - netmask) - 1);\n    return this.fixSigned(networkIp & netmaskDec);\n  }\n\n  /**\n * Find the largest viable netmask between to IPs.\n *\n * @param {number} currentIp start IP.\n * @param {number} endIp end IP.\n * @return {number} the largest mask between the start and end IPs.\n */\n  static findLargestMask(currentIp, endIp) {\n    const remaining = endIp - currentIp;\n    let currentBits = 0;\n    while (currentBits < 32) {\n      const ips = 2**currentBits;\n      if (remaining <= ips) {\n        return 32 - currentBits;\n      }\n      currentBits ++;\n    }\n    return NaN; // ???\n  }\n\n  /**\n   * Converts a netmask into a decimal value (bits turned on).\n   *\n   * @param {number} netmask netmask value (from 0 to 32)\n   * @return {number} decimal value of netmask in decimal format\n   */\n  static netmaskToDecimal(netmask) {\n    const v1 = 4294967295; // (2 ** 32) - 1\n    const v2 = 2 ** (32 - netmask) - 1;\n    return this.fixSigned(v1 ^ v2);\n  }\n\n  /**\n   * Deals with the fact that in JS bitwise operations\n   * 32 bit SIGNED numbers are used, so there's a possible overflow.\n   *\n   * @param {number} signed number in SIGNED format.\n   * @return {number} unsigned number\n   */\n  static fixSigned(signed) {\n    if (signed < 0) {\n      let ret = signed & 2147483647;\n      ret += 2147483648;\n      return ret;\n    }\n    return signed;\n  }\n\n  /**\n   * Calculates the number of usable IPs.\n   *\n   * @param {number} netmask network netmask.\n   * @return {number} number of usable IPs.\n   */\n  static netmaskToUsableIps(netmask) {\n    return 2 ** (32 - netmask);\n  }\n}\n\nexport default IPUtils;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport IPUtils from './IPUtils';\n\n/**\n * Pack subnets as efficient as possible withtin a given address space\n */\nclass Packer {\n  /**\n   * Packs the provided subnets into the provided space.\n   * If packing the subnets is not possible, it returns an object with 'state': 'bad'\n   *\n   * @param {*} space\n   * @param {*} subnets\n   * @return {Object} object with the packed subnets.\n   */\n  pack(space, subnets) {\n    const sortedSubnets = this.sortSubnets(subnets);\n    let currentIp = IPUtils.netStart(IPUtils.dotToDec(space.net), space.mask);\n\n    const endIp = IPUtils.netEnd(currentIp, space.mask);\n    const packedNets = [];\n    for (let i = 0; i < sortedSubnets.length; i++) {\n      const subnet = sortedSubnets[i];\n      const fit = this.fit(currentIp, endIp, subnet);\n      if (fit.fit) {\n        packedNets.push({\n          name: subnet.name,\n          mask: subnet.mask,\n          netStart: currentIp,\n          netEnd: fit.end,\n          description: subnet.description,\n          vpcName: subnet.vpcName,\n          subnetRangeName: subnet.subnetRangeName,\n          type: subnet.type,\n        });\n        currentIp = fit.end + 1;\n      } else {\n        // Couldn't fit\n        return {\n          state: 'bad',\n        };\n      }\n    }\n    const freeRanges = [];\n    // Pack the remaining IPs into free ranges\n    // var freeDone = false;\n    // while (!freeDone) {\n\n    //   var subnet = {\n    //     mask : lastMask\n    //   }\n\n    //   var fit = this.fit(currentIp, endIp, subnet);\n    //   if (fit.fit) {\n    //       freeRanges.push({\n    //         mask: lastMask,\n    //         netStart: currentIp,\n    //         netEnd: fit.end\n    //     });\n    //     currentIp = fit.end + 1;\n    //   } else {\n    //     freeDone = true;\n\n    //   }\n    // }\n\n    return {\n      state: 'ok',\n      packedNets: packedNets,\n      freeRanges: freeRanges,\n    };\n  }\n\n  /**\n   * Tries to fit a subnet between spaceStart and spaceEnd\n   * @param {*} spaceStart\n   * @param {*} spaceEnd\n   * @param {*} currentNet\n   * @return {Object} object with the result\n   */\n  fit(spaceStart, spaceEnd, currentNet) {\n    const currentNetEnd = IPUtils.netEnd(spaceStart, currentNet.mask);\n    if (currentNetEnd > spaceEnd) {\n      return {\n        fit: false,\n        end: currentNetEnd,\n      };\n    }\n    return {\n      fit: true,\n      end: currentNetEnd,\n    };\n  }\n\n  /**\n   * Sorts the subnets from largest to smallest.\n   * @param {Array} subnets Subnets to sort.\n   * @return {Array} sorted subnets.\n   */\n  sortSubnets(subnets) {\n    return subnets.sort(function(a, b) {\n      if (a.mask === b.mask) {\n        return a.name < b.name ? -1 : a.name > b.name ? 1 : 0;\n      } else {\n        return a.mask - b.mask;\n      }\n    });\n  }\n}\n\nexport default Packer;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport Packer from './Packer';\n\n/**\n * Object to encapsulate the business logic for doing IPAM for GKE clusters.\n */\nclass Logic {\n  /**\n   * Constructor.\n   *\n   * @param {*} input Input provided by the user.\n   */\n  constructor(input) {\n    // Calculate clusters, using Packer\n    const packer = new Packer();\n    const validCombinations = [];\n    const space = {\n      net: input.network,\n      mask: input.netmask,\n    };\n    let ok = true;\n    let count = 1;\n    while (ok && count < 150) {\n      const networks = [];\n      const targetNumberLength = count.toString().length;\n      for (let j = 1; j <= count; j++) {\n        networks.push({\n          mask: input.nodeNetmask,\n          name: 'node-' + this.pad(targetNumberLength, j),\n          vpcName: 'vpc-' + this.pad(targetNumberLength, j),\n          subnetRangeName: 'N/A',\n          type: 'PRIMARY',\n          description:\n            'Main VPC range for node-' + this.pad(targetNumberLength, j),\n        });\n\n        networks.push({\n          mask: input.clusterNetmask,\n          name: 'cluster-' + this.pad(targetNumberLength, j),\n          vpcName: 'vpc-' + this.pad(targetNumberLength, j),\n          subnetRangeName: 'cluster-' + this.pad(targetNumberLength, j),\n          type: 'SECONDARY',\n          description:\n            'Secondary range for VPC node-' +\n            this.pad(targetNumberLength, j) +\n            ' (for pods)',\n        });\n\n        networks.push({\n          mask: input.serviceNetmask,\n          name: 'service-' + this.pad(targetNumberLength, j),\n          vpcName: 'vpc-' + this.pad(targetNumberLength, j),\n          subnetRangeName: 'service-' + this.pad(targetNumberLength, j),\n          type: 'SECONDARY',\n          description:\n            'Secondary range for VPC node-' +\n            this.pad(targetNumberLength, j) +\n            ' (for services)',\n        });\n\n        if (input.masterNetwork === 'UNIQUE') {\n          networks.push({\n            mask: 28,\n            name: 'master-' + this.pad(targetNumberLength, j),\n            vpcName: 'N/A',\n            subnetRangeName: 'N/A',\n            type: 'MANAGED',\n            description:\n              'IP range for managed VPC for master(s) for cluster node-' +\n              this.pad(targetNumberLength, j),\n          });\n        }\n      }\n\n      if (input.masterNetwork === 'SHARE') {\n        networks.push({\n          mask: 28,\n          name: 'master',\n          vpcName: 'N/A',\n          subnetRangeName: 'N/A',\n          type: 'MANAGED',\n          description:\n            'Shared IP range for managed VPC for master(s) for all clusters',\n        });\n      }\n\n      const packerResults = packer.pack(space, networks);\n      if (packerResults.state === 'ok') {\n        validCombinations.push({\n          networks: packerResults.packedNets,\n        });\n      } else {\n        ok = false;\n      }\n\n      count++;\n    }\n\n    this.combinations = validCombinations;\n  }\n\n  /**\n   * Pads the number to a target length using zeros.\n   *\n   * @param {number} targetLength number of digits to pad to.\n   * @param {string} numberToPad number to pad.\n   * @return {string} padded number.\n   */\n  pad(targetLength, numberToPad) {\n    return numberToPad.toString().padStart(targetLength, '0');\n  }\n\n  /**\n   * Returns the rules used for cluster netmask calculations.\n   *\n   * @return {*} the cluster rules.\n   */\n  getClusterRules() {\n    return this.clusterRules;\n  }\n\n  /**\n   * Returns the rules used for node netmask calculations.\n   *\n   * @return {*} the node rules.\n   */\n  getNodeRules() {\n    return this.nodeRules;\n  }\n\n  /**\n   * Returns the rules used for service netmask calculations.\n   *\n   * @return {*} the service rules.\n   */\n  getServiceRules() {\n    return this.serviceRules;\n  }\n\n  /**\n   * Returns the viable combinations.\n   *\n   * @return {*} the viable combinations.\n   */\n  getCombinations() {\n    return this.combinations;\n  }\n}\n\nexport default Logic;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport '../../App.css';\nimport {Input, Label, FormGroup, Col} from 'reactstrap';\nimport Logic from '../../Logic';\nimport PropTypes from 'prop-types';\n\n/**\n * Dropdown for the different combinations that were calculated\n */\nclass LogicOutputDropdown extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  /**\n   *\n   * Create the options, one per combination\n   *\n   * @return {Object} the options for the dropdown.\n   */\n  createOptions = () => {\n    const combinations = this.props.logic.getCombinations();\n\n    const options = [];\n    combinations.forEach(function(element, index) {\n      options.push(\n          <option value={index} key={index}>Number of clusters: {index + 1} </option>\n      );\n    });\n    return options;\n  };\n\n  /**\n   * Handle selecting a different combination.\n   *\n   * @param {Object} e the selection event.\n   */\n  handleChange(e) {\n    this.props.changeHandler(Number(e.target.value));\n  }\n\n  /**\n   * Render the dropdown.\n   *\n   * @return {Object} the dropdown for the combinations that were calculated.\n   */\n  render() {\n    return (\n      <div>\n        <FormGroup row>\n          <Label for=\"combination\" sm={2}>\n            {' '}\n            Available Combinations{' '}\n          </Label>\n          <Col sm={2}>\n            <Input\n              type=\"select\"\n              name=\"combination\"\n              id=\"exampleSelect\"\n              onChange={this.handleChange}\n            >\n              {' '}\n              {this.createOptions()}{' '}\n            </Input>{' '}\n          </Col>{' '}\n        </FormGroup>\n      </div>\n    );\n  }\n}\n\nLogicOutputDropdown.propTypes = {\n  logic: PropTypes.instanceOf(Logic),\n  input: PropTypes.object,\n  changeHandler: PropTypes.func,\n};\n\nexport default LogicOutputDropdown;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport '../../App.css';\nimport IPUtils from '../../IPUtils';\nimport PropTypes from 'prop-types';\n\n/**\n * A row for a particular subnet definition\n */\nclass LogicOutputNetworkRow extends Component {\n  /**\n   * Pretty format the subnet type.\n   * @param {type} type The subnet type.\n   * @return {string} subnet type text.\n   */\n  subnetTypeText(type) {\n    if (type === 'PRIMARY') {\n      return 'Primary';\n    } else if (type === 'SECONDARY') {\n      return 'Secondary';\n    } else if (type === 'MANAGED') {\n      return 'Google Managed';\n    }\n    return 'N/A';\n  }\n\n  /**\n   * Render the row.\n   *\n   * @return {Object} the table row for the network.\n   */\n  render() {\n    return (\n      <tr>\n        <td>\n          {' '}\n          {IPUtils.decToDot(this.props.network.netStart)}/\n          {this.props.network.mask}\n        </td>\n        <td> {IPUtils.decToDot(this.props.network.netStart)} </td>\n        <td> {IPUtils.decToDot(this.props.network.netEnd)} </td>\n        <td> {this.props.network.name} </td>\n        <td> {this.props.network.vpcName} </td>\n        <td> {this.props.network.subnetRangeName} </td>\n        <td> {this.subnetTypeText(this.props.network.type)} </td>\n        <td> {this.props.network.description} </td>\n      </tr>\n    );\n  }\n}\n\nLogicOutputNetworkRow.propTypes = {\n  network: PropTypes.object,\n};\n\nexport default LogicOutputNetworkRow;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport IPUtils from '../../IPUtils';\n\n/**\n * Rules for the main subnet range based on the subnet size\n */\nclass NodeNetworkRules {\n  /**\n   * Constructor.\n   *\n   * @param {Input} input User input.\n   */\n  constructor(input) {\n    this.input = input;\n  }\n\n  /**\n   * Returns the maximum number of usable IPs.\n   *\n   * @return {number} maximum number of usable IPs.\n   */\n  maximum() {\n    const netmask = this.input.nodeNetmask;\n    // TODO allow reserving IPs on the Node Network\n    return IPUtils.netmaskToUsableIps(netmask) - 4; // GCP reserves 4 ips.\n  }\n\n  /**\n   * Returns the reference documentation URLs.\n   *\n   * @return {Array} an Array with a list of URLs.\n   */\n  ref() {\n    return [\n      'https://cloud.google.com/vpc/docs/vpc#reserved_ip_addresses_in_every_subnet',\n    ];\n  }\n}\n\n/**\n * Rules for the main subnet range based on the cluster subnet size size\n */\nclass ClusterNetworkRules {\n  /**\n   * Constructor.\n   *\n   * @param {Input} input User input.\n   */\n  constructor(input) {\n    this.input = input;\n  }\n\n  /**\n   * Returns the maximum number of usable IPs.\n   *\n   * @return {number} maximum number of usable IPs.\n   */\n  maximum() {\n    const clusterNetmaskIps = IPUtils.netmaskToUsableIps(\n        this.input.clusterNetmask\n    );\n    const podNetmaskIps = IPUtils.netmaskToUsableIps(this.input.nodePodNetmask);\n    return clusterNetmaskIps / podNetmaskIps;\n  }\n\n  /**\n   * Returns the reference documentation URLs.\n   *\n   * @return {Array} an Array with a list of URLs.\n   */\n  ref() {\n    return [];\n  }\n}\n\n/**\n * Rules for the main subnet range based on location type (Regional, zonal, multi-zonal).\n */\nclass RegionalLocationRules {\n  /**\n   * Constructor.\n   *\n   * @param {Input} input User input.\n   * @param {number} currentMax Current possible maximum based on upstream rules.\n   */\n  constructor(input, currentMax) {\n    this.input = input;\n    this.currentMax = currentMax;\n  }\n\n  /**\n   * Returns the maximum number of usable IPs.\n   *\n   * @return {number} maximum number of usable IPs.\n   */\n  maximum() {\n    if (this.input.locationType === 'REGIONAL') {\n      return this.currentMax - (this.currentMax % 3);\n    } else if (this.input.locationType === 'MULTI_ZONAL') {\n      return (\n        this.currentMax -\n        (this.currentMax % (Number.parseInt(this.input.extraZones) + 1))\n      );\n    }\n    return this.currentMax;\n  }\n\n  /**\n   * Returns the reference documentation URLs.\n   *\n   * @return {Array} an Array with a list of URLs.\n   */\n  ref() {\n    return [];\n  }\n}\n\n/**\n * Rules for the main subnet range based on the aggregate of NodeNetworkRules and ClusterNetworkRules\n */\nclass NodeOutputRules {\n  /**\n   * Constructor.\n   *\n   * @param {Input} input User input.\n   */\n  constructor(input) {\n    this.input = input;\n    this.nodeNetworkRules = new NodeNetworkRules(this.input);\n    this.clusterNetworkRules = new ClusterNetworkRules(this.input);\n  }\n\n  /**\n   * Returns the maximum number of usable IPs.\n   *\n   * @return {number} maximum number of usable IPs.\n   */\n  maximum() {\n    const v1 = this.nodeNetworkRules.maximum();\n    const v2 = this.clusterNetworkRules.maximum();\n\n    const regionalLocationRules = new RegionalLocationRules(\n        this.input,\n      v1 < v2 ? v1 : v2\n    );\n\n    return regionalLocationRules.maximum();\n  }\n\n  /**\n   * @return{Array} list of details that are affecting the maximum size.\n   */\n  details() {\n    const details = [];\n    details.push({\n      id: 'subnet_limit',\n      text: `The node subnet will limit each cluster to a maximum of ${this.nodeNetworkRules.maximum()} node(s).`,\n    });\n    details.push({\n      id: 'cluster_limit',\n      text: `The cluster subnet will limit each cluster to a maximum of ${this.clusterNetworkRules.maximum()} node(s).`,\n    });\n    if (this.input.locationType === 'REGIONAL') {\n      details.push({\n        id: 'regional_multiple_limit',\n        text: `Nodes in a regional cluster have to be deployed in multiples of three`,\n      });\n    } else if (this.input.locationType === 'MULTI_ZONAL') {\n      details.push({\n        id: 'zonal_multiple_limit',\n        text: `Nodes in a multi-zonal cluster (with ${\n          this.input.extraZones\n        } extra zone) have to be deployed in multiples of ${Number.parseInt(\n            this.input.extraZones\n        ) + 1}`,\n      });\n    }\n\n    return details;\n  }\n}\n\nexport default NodeOutputRules;\n\nexport {NodeNetworkRules, ClusterNetworkRules};\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport IPUtils from '../../IPUtils';\n\n/**\n * Rules for the Service subnet range\n */\nclass ServiceOutputRules {\n  /**\n   * Constructor.\n   *\n   * @param {Input} input\n   */\n  constructor(input) {\n    this.input = input;\n  }\n\n  /**\n   * Returns the maximum number of usable IPs.\n   *\n   * @return {number} maximum number of usable IPs.\n   */\n  maximum() {\n    const serviceIps = IPUtils.netmaskToUsableIps(this.input.serviceNetmask);\n    return serviceIps;\n  }\n}\n\nexport default ServiceOutputRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {nodePodNetmaskOptions} from '../../ui/input/Parameters';\n\n/**\n * Rules for the Pod subnet range\n */\nclass PodOutputRules {\n  /**\n   * Constructor.\n   *\n   * @param {Input} input\n   */\n  constructor(input) {\n    this.input = input;\n  }\n\n  /**\n   * Returns the maximum number of usable IPs.\n   *\n   * @return {number} maximum number of usable IPs.\n   */\n  maximum() {\n    let i;\n    for (i = 0; i < nodePodNetmaskOptions.length; ++i) {\n      if (nodePodNetmaskOptions[i].value === this.input.nodePodNetmask) {\n        return nodePodNetmaskOptions[i].max;\n      }\n    }\n    return NaN;\n  }\n}\n\nexport default PodOutputRules;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport '../../App.css';\nimport LogicOutputDropdown from './LogicOutputDropdown';\nimport LogicOutputNetworkRow from './LogicOutputNetworkRow';\nimport {Table} from 'reactstrap';\nimport NodeOutputRules from '../../rules/output/NodeOutputRules';\nimport ServiceOutputRules from '../../rules/output/ServiceOutpuRules';\nimport PodOutputRules from '../../rules/output/PodOutputRules';\nimport Logic from '../../Logic';\nimport PropTypes from 'prop-types';\n\n/**\n * Container object for outputting the results of the calculation logic.\n */\nclass LogicOutput extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n    const output = {\n      combinationIndex: 0,\n    };\n\n    this.state = {\n      output: output,\n    };\n\n    this.handleUpdateOutput = this.handleUpdateOutput.bind(this);\n\n    this.handleChangeCombination = this.handleChangeCombination.bind(this);\n  }\n  /**\n   *\n   * Create the detail.\n   *\n   * @param {Object} nodeOutputRules rules that were used to compute the output.\n   * @return {Object} the details for the rules.\n   */\n  createDetail = (nodeOutputRules) => {\n    const details = [];\n\n    const nodeDetails = nodeOutputRules.details();\n    nodeDetails.forEach((detail) => {\n      details.push(<div key={detail.id}>{detail.text}</div>);\n    });\n\n    return details;\n  };\n\n  /**\n   *\n   * Create the rows.\n   *\n   * @return {Object} the details rows.\n   */\n  createRows = () => {\n    const logic = this.props.logic;\n    const combination = logic.getCombinations()[\n        this.state.output.combinationIndex\n    ];\n    const networks = combination.networks;\n    const rows = [];\n\n    networks.forEach((network) => {\n      rows.push(<LogicOutputNetworkRow key={network.name} network={network} />);\n    });\n\n    return rows;\n  };\n\n  /**\n   * Handle the selection of a different combination to be displayed.\n   *\n   * @param {number} combinationIndex The index of the combinations to be displayed.\n   */\n  handleChangeCombination(combinationIndex) {\n    this.handleUpdateOutput(\n        Object.assign({}, this.state.output, {\n          combinationIndex: combinationIndex,\n        })\n    );\n  }\n\n  /**\n   * Update the output.\n   *\n   * @param {object} output The updated output.\n   */\n  handleUpdateOutput(output) {\n    this.setState({\n      output: output,\n    });\n  }\n\n  /**\n   * Render the main output component.\n   *\n   * @return {Object} the main <div> for the output.\n   */\n  render() {\n    const nodeOutputRules = new NodeOutputRules(this.props.input);\n    const serviceOutputRules = new ServiceOutputRules(this.props.input);\n    const podOutputRules = new PodOutputRules(this.props.input);\n\n    return (\n      <div>\n        <div>\n          <b> Summary </b> <br />\n          With the current configuration, up to{' '}\n          {this.props.logic.getCombinations().length} isolated clusters can be\n          created. <br />\n          Each cluster will suppport: <br />\n          Up to {nodeOutputRules.maximum()} node(s) per cluster. <br />\n          Up to {serviceOutputRules.maximum()} service(s) per cluster. <br />\n          Up to {podOutputRules.maximum()} pods per node. <br />\n        </div>\n        <div>\n          <b>Details</b>\n          <br />\n          {this.createDetail(nodeOutputRules)}\n        </div>\n        <LogicOutputDropdown\n          logic={this.props.logic}\n          changeHandler={this.handleChangeCombination}\n        />{' '}\n        <Table>\n          <tbody>\n            <tr>\n              <th> Network </th>\n              <th> Start </th>\n              <th> End </th>\n              <th> Name </th>\n              <th> VPC Name </th>\n              <th> Subnet Range Name </th>\n              <th> Subnet Range Type </th>\n              <th> Description </th>\n            </tr>\n            {this.createRows()}\n          </tbody>\n        </Table>{' '}\n      </div>\n    );\n  }\n}\n\n\nLogicOutput.propTypes = {\n  logic: PropTypes.instanceOf(Logic),\n  input: PropTypes.object,\n};\n\nexport default LogicOutput;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport '../../App.css';\nimport LogicOutput from './LogicOutput';\nimport PropTypes from 'prop-types';\n\n\n/**\n * Class for the results of the calculations\n */\nclass Results extends Component {\n  /**\n   * Render the actual results.\n   *\n   * @return {Object} the results or error message.\n   */\n  printReslts() {\n    if (\n      this.props.state.logic &&\n      this.props.state.logic.getCombinations() &&\n      this.props.state.logic.getCombinations().length > 0\n    ) {\n      return (\n        <LogicOutput\n          logic={this.props.state.logic}\n          input={this.props.state.input}\n        />\n      );\n    } else {\n      return <div> Invalid Input </div>;\n    }\n  }\n\n\n  /**\n   * Render the results component.\n   *\n   * @return {Object} the main <div> for the results.\n   */\n  render() {\n    return (\n      <div>\n        <hr/>\n        <h2> Results </h2>\n        {this.printReslts()}\n      </div>\n    );\n  }\n}\n\nResults.propTypes = {\n  state: PropTypes.object,\n};\n\nexport default Results;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React from 'react';\nimport {\n  Button,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Col,\n  Input,\n} from 'reactstrap';\nimport PropTypes from 'prop-types';\n\n/**\n * Component to hold buttons to manage the state of applications.\n */\nclass StateButtons extends React.Component {\n  /**\n   * Constructor.\n   *\n   * @param {Object} props\n   */\n  constructor(props) {\n    super(props);\n    this.state = {\n      downloadModal: false,\n      uploadModal: false,\n      configText: '',\n    };\n\n    this.toggleDownload = this.toggleDownload.bind(this);\n    this.toggleUpload = this.toggleUpload.bind(this);\n    this.uploadConfig = this.uploadConfig.bind(this);\n    this.handleConfigText = this.handleConfigText.bind(this);\n  }\n\n  /**\n   * Handle ingesting new text for the configuration.\n   *\n   * @param {Object} e the selection event.\n   */\n  handleConfigText(e) {\n    this.setState(\n        Object.assign({}, this.state.input, {\n          configText: e.target.value,\n        })\n    );\n  }\n\n  /**\n   * Show the download modal dialog\n   */\n  toggleDownload() {\n    this.setState((prevState) => ({\n      downloadModal: !prevState.downloadModal,\n      uploadModal: prevState.uploadModal,\n      configText: '',\n    }));\n  }\n\n  /**\n   * Show the upload modal dialog\n   */\n  toggleUpload() {\n    this.setState((prevState) => ({\n      downloadModal: prevState.downloadModal,\n      uploadModal: !prevState.uploadModal,\n      configText: '',\n    }));\n  }\n\n  /**\n   * Hide the upload modal dialog, and ingest the config text.\n   */\n  uploadConfig() {\n    this.toggleUpload();\n    this.props.handleUploadConfig(this.state.configText);\n  }\n\n  /**\n   * Render the Col element.\n   *\n   * @return {Object} the Col element that contains the buttons.\n   */\n  render() {\n    return (\n      <Col className=\"text-right \">\n        <Button color=\"primary\" onClick={this.toggleDownload}>\n          Download Config\n        </Button>{' '}\n        <Modal isOpen={this.state.downloadModal} toggle={this.toggleDownload}>\n          <ModalHeader toggle={this.toggleDownload}>\n            Current Configuration\n          </ModalHeader>\n          <ModalBody>\n            <pre>{this.props.input}</pre>\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"secondary\" onClick={this.toggleDownload}>\n              Close\n            </Button>\n          </ModalFooter>\n        </Modal>\n        <Button color=\"secondary\" onClick={this.toggleUpload}>\n          Upload Config\n        </Button>{' '}\n        <Modal isOpen={this.state.uploadModal} toggle={this.toggleUpload}>\n          <ModalHeader toggle={this.toggleUpload}>\n            Upload Configuration\n          </ModalHeader>\n          <ModalBody>\n            <Input\n              type=\"textarea\"\n              name=\"text\"\n              id=\"exampleText\"\n              rows=\"15\"\n              onChange={this.handleConfigText}\n            />\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"primary\" onClick={this.uploadConfig}>\n              Upload\n            </Button>\n            <Button color=\"secondary\" onClick={this.toggleUpload}>\n              Cancel\n            </Button>\n          </ModalFooter>\n        </Modal>\n      </Col>\n    );\n  }\n}\n\nStateButtons.propTypes = {\n  input: PropTypes.string,\n  handleUploadConfig: PropTypes.func,\n};\n\nexport default StateButtons;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {Component} from 'react';\nimport './App.css';\nimport {Container, Row} from 'reactstrap';\n\nimport Parameters from './ui/input/Parameters';\nimport Results from './ui/output/Results';\nimport Logic from './Logic';\n\nimport InputRules from './rules/input/InputRules';\nimport StateButtons from './components/StateButtons';\n\n/**\n * Main component for the UI. It's the glue logic between the input, business logic, and output.\n */\nclass Calculator extends Component {\n  /**\n   * Constructor.\n   *\n   * @param {*} props Properties.\n   */\n  constructor(props) {\n    super(props);\n\n    // TODO Need to use better defaults\n    const input = {\n      network: '10.0.0.0',\n      netmask: 16,\n      nodeNetmask: 29,\n      clusterNetmask: 24,\n      serviceNetmask: 24,\n      nodePodNetmask: '24',\n      masterNetwork: 'PUBLIC',\n      locationType: 'ZONAL',\n      extraZones: 1,\n    };\n    const logic = new Logic(input);\n    const inputRules = new InputRules(input);\n\n    this.state = {\n      input: input,\n      logic: logic,\n      inputRules: inputRules,\n    };\n\n    this.handleUpdateInput = this.handleUpdateInput.bind(this);\n\n    this.handleUploadConfig = this.handleUploadConfig.bind(this);\n  }\n\n  /**\n   * Handle uploading a complete new config text.\n   *\n   * @param {string} configText the new config text.\n   */\n  handleUploadConfig(configText) {\n    const newInput = JSON.parse(configText);\n    this.handleUpdateInput(newInput);\n  }\n\n  /**\n   * Handle updating the input from the UI.\n   *\n   * @param {Object} input the new input.\n   */\n  handleUpdateInput(input) {\n    let logic;\n    if (this.validateInput(input)) {\n      logic = new Logic(input);\n    }\n    this.setState({\n      input: input,\n      logic: logic,\n    });\n  }\n\n  /**\n   * Validates that the input is valid.\n   *\n   * @param {Object} input Input structure.\n   * @return {boolean} True if valid, false otherwise.\n   */\n  validateInput(input) {\n    if (!Number.isInteger(input.netmask)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Render the div element that holds most of the application.\n   *\n   * @return {Object} the div element with the application.\n   */\n  render() {\n    return (\n      <div className=\"workspace\">\n        <br />\n        <Container>\n          <Row>\n            <StateButtons\n              input={JSON.stringify(this.state.input, null, ' ')}\n              handleUploadConfig={this.handleUploadConfig}\n            />\n          </Row>\n        </Container>\n        <br />\n        <Parameters\n          input={this.state.input}\n          inputRules={this.state.inputRules}\n          handleUpdateInput={this.handleUpdateInput}\n        />\n\n        <hr />\n        <h2>Input</h2>\n        <pre>{JSON.stringify(this.state.input, null, ' ')}</pre>\n\n        <Results state={this.state} />\n      </div>\n    );\n  }\n}\n\nexport default Calculator;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React, {\n  Component,\n} from 'react';\nimport './App.css';\nimport Calculator from './Calculator';\n\n/**\n * Main application class.\n */\nclass App extends Component {\n  /**\n   * Render the main application component.\n   *\n   * @return {Object} the main <div> for the application.\n   */\n  render() {\n    return ( <div className = \"App\" >\n      <header className = \"App-header\" >\n        <h1 > GKE IP Address Management </h1>\n        \n      </header>\n\n      <Calculator / >\n\n    </div>\n    );\n  }\n}\n\nexport default App;\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint no-console: [\"off\"], require-jsdoc: [\"off\"] */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n              'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n      .register(swUrl)\n      .then((registration) => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                    'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n                );\n\n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log('Content is cached for offline use.');\n\n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch((error) => {\n        console.error('Error during service worker registration:', error);\n      });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n      .then((response) => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        if (\n          response.status === 404 ||\n                response.headers.get('content-type').indexOf('javascript') === -1\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then((registration) => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log(\n            'No internet connection found. App is running in offline mode.'\n        );\n      });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","// Copyright 2019 Google LLC\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     https://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render( < App / >, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}